# üß† NeuroLearn ‚Äî Backend (`ciBack`)

–ë—ç–∫–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **FastAPI** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–∞–º–∏ —Å –ø–æ–º–æ—â—å—é **HuggingChat (LLM)** –∏ **RAG-–ø–æ–¥—Ö–æ–¥–æ–≤**.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ü–µ–ø–æ—á–∫—É –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —É—Ä–æ–∫–æ–≤, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏**:

  * CRUD –¥–ª—è **–∫—É—Ä—Å–æ–≤**, **–º–æ–¥—É–ª–µ–π**, **—É—Ä–æ–∫–æ–≤**, **—Ç–µ—Å—Ç–æ–≤**, **–∑–∞–¥–∞–Ω–∏–π**, **—Ç–µ–æ—Ä–∏–∏**
  * –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –æ—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Ä–µ–≤–∏–∑–∏—è–º
* **AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è**:

  * HuggingChat –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫—É—Ä—Å–∞, –º–æ–¥—É–ª–µ–π –∏ —É—Ä–æ–∫–æ–≤
  * –¢–µ–æ—Ä–∏–∏, —Ç–µ—Å—Ç—ã –∏ –∑–∞–¥–∞–Ω–∏—è –ø–æ —à–∞–±–ª–æ–Ω–∞–º **Jinja2**
* **RAG-–º–µ—Ö–∞–Ω–∏–∑–º—ã**:

  * –ó–∞–≥—Ä—É–∑–∫–∞ PDF/DOCX/TXT —Ñ–∞–π–ª–æ–≤
  * –ê–Ω–∞–ª–∏–∑ –∏ —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  * **Semantic Search** –Ω–∞ –±–∞–∑–µ FAISS
* **OpenAPI** (Swagger UI) —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
* –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: **CI/CD –Ω–∞ GitHub Actions**, Docker Compose, staging-—Å–µ—Ä–≤–µ—Ä —Å TLS

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your-org/NeuroLearn.git
cd NeuroLearn/ciBack

# –°–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–≤–Ω–µ –ø–∞–ø–∫–∏ mlcourse!)
python -m venv venv
source venv/bin/activate # Linux / Mac
.\venv\Scripts\activate.ps1 # Windows

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

> ‚ö†Ô∏è –ü–∞–ø–∫–∞ `mlcourse/` ‚Äî —ç—Ç–æ —Ç–≤–æ—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ª–∏–±–∞–º–∏.
> Git –∏ –ª–∏–Ω—Ç–µ—Ä—ã –µ—ë –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ä—Ç–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. `.env.example`):

```env
APP_HOST=0.0.0.0
APP_PORT=8000
DATABASE_URL=sqlite:///./database.db

HF_EMAIL=youremail@example.com
HF_PASS=yourpassword

JWT_SECRET=change-me
JWT_ALG=HS256
```

---

## üß™ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
uvicorn main:app --reload
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

* Swagger UI: [http://localhost:8000/docs](http://localhost:8000/docs)
* OpenAPI JSON: [http://localhost:8000/openapi.json](http://localhost:8000/openapi.json)

---

## üê≥ Docker Compose (–ª–æ–∫–∞–ª—å–Ω–æ + staging)

```bash
# –ø–æ–¥–Ω—è—Ç—å API –∏ PostgreSQL
docker compose up -d --build
docker compose up -d
```

> –í –∫–æ–Ω—Ñ–∏–≥–µ —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω healthcheck –¥–ª—è PostgreSQL –∏ –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest -q

# smoke-—Ç–µ—Å—Ç health endpoint
pytest tests/test_smoke.py::test_healthz -q
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è `/api/healthz`:

```http
GET http://localhost:8000/api/healthz
{
  "ok": true,
  "db": true
}
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ciBack/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py    # pydantic-settings, –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env, –ø—Ä–æ—Ñ–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ repositories/    # –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, soft-delete —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API-—Ä–æ—É—Ç–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ health.py    # health-check endpoint
‚îÇ   ‚îú‚îÄ‚îÄ schemas/         # Pydantic Out/Create/Update
‚îÇ   ‚îú‚îÄ‚îÄ models/          # SQLAlchemy –º–æ–¥–µ–ª–∏ (soft-delete)
‚îÇ   ‚îú‚îÄ‚îÄ database/        # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ services/        # LLM, HuggingFace, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ prompts/         # Jinja2 —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ tests/               # pytest-—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.dev(stage/prod) # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ .env.example
```

---

## üìò –ü—Ä–∏–º–µ—Ä—ã API

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π

```http
GET /api/courses/{course_id}/generate_modules
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∫—É—Ä—Å–∞ (RAG)

```http
POST /api/courses/{course_id}/upload-description
Content-Type: multipart/form-data
```

### Health Check

```http
GET /api/healthz
```

---

## üó∫Ô∏è Roadmap (Backend)

### ‚úÖ –ì–æ—Ç–æ–≤–æ

* CRUD API –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
* AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
* Semantic Search (FAISS)
* –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤ (RAG)
* –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
* CI/CD –Ω–∞ GitHub Actions
* Staging —Å–µ—Ä–≤–µ—Ä —Å TLS
* Health endpoint –∏ smoke-—Ç–µ—Å—Ç—ã
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ Alembic –º–∏–≥—Ä–∞—Ü–∏–∏

### üõ†Ô∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å arXiv, Semantic Scholar
* LangChain-–∞–≥–µ–Ω—Ç –¥–ª—è –¥–∏–∞–ª–æ–≥–∞ —Å –∫—É—Ä—Å–æ–º
* –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ (—É—á–µ–Ω–∏–∫/—Ä–µ–¥–∞–∫—Ç–æ—Ä/–∞–¥–º–∏–Ω)

### üîÆ –í –ø–ª–∞–Ω–∞—Ö

* SCORM/xAPI –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç
* WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
* –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-21-11*

---